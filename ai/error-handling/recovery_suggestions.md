# 错误恢复建议系统

## 概述

错误恢复建议系统根据错误类型和上下文，自动生成具体的修复建议和操作步骤，帮助用户快速解决问题。

## 核心功能

1. **自动诊断**：分析错误日志，识别根本原因
2. **修复建议**：提供具体的修复步骤
3. **预防措施**：建议如何避免类似错误
4. **相关资源**：提供文档链接和参考资料

## 建议模板

### 代码错误建议模板

```
错误类型：{error_type}
错误位置：{file_path}:{line_number}

问题诊断：
{diagnosis}

修复建议：
1. {step_1}
2. {step_2}
3. {step_3}

预防措施：
- {prevention_1}
- {prevention_2}
```

### 环境错误建议模板

```
错误类型：{error_type}

问题诊断：
{diagnosis}

修复步骤：
1. {fix_command_1}
2. {fix_command_2}

验证命令：
{verification_command}
```

## 常见错误的恢复建议

### 1. 语法错误 (SyntaxError)

**诊断**：代码语法不符合 Python 规范

**常见原因**：
- 缺少括号、引号或冒号
- 缩进错误
- 关键字拼写错误

**修复建议**：
1. 检查错误行及其前后行
2. 使用 IDE 的语法检查功能
3. 参考 Python 语法文档

### 2. 依赖缺失 (ModuleNotFoundError)

**诊断**：缺少必需的 Python 包

**修复步骤**：
```bash
pip install {package_name}
```

**验证**：
```bash
python -c "import {package_name}"
```

### 3. API 认证失败 (AuthenticationError)

**诊断**：API token 无效或过期

**修复步骤**：
1. 检查配置文件：`~/.ccg-mcp/config.toml`
2. 验证 token 是否正确
3. 确认 token 权限是否足够

## 使用指南

### Claude 如何生成恢复建议

**步骤 1：分析错误**
- 提取错误类型和错误信息
- 识别错误发生的位置和上下文

**步骤 2：匹配建议模板**
- 根据错误类型选择对应的建议模板
- 填充具体的错误信息

**步骤 3：生成建议**
- 提供清晰的修复步骤
- 包含可执行的命令
- 添加预防措施

**步骤 4：向用户展示**
- 使用友好的格式展示建议
- 突出关键步骤
- 提供相关文档链接

## 总结

错误恢复建议系统通过自动诊断和生成具体的修复步骤，帮助用户快速解决问题，提升开发效率。
