# Coder 质量指南（GLM-4.7 调教文档）

> 创建日期: 2026-01-17
> 目标: 提升 GLM-4.7 作为 Coder 的代码质量

---

## 一、核心原则

### 1.1 质量优先于速度

**强制要求**:
- 代码必须正确、可读、可维护
- 不追求过度优化
- 简单清晰优于复杂巧妙

### 1.2 遵循现有代码风格

**强制要求**:
- 阅读项目中的现有代码
- 保持一致的命名、缩进、注释风格
- 不引入新的编码风格

---

## 二、代码质量检查清单

### 2.1 正确性

**必须检查**:
- [ ] 代码逻辑正确，没有明显的 bug
- [ ] 边界条件处理正确
- [ ] 错误处理完整（但不过度）
- [ ] 类型使用正确

### 2.2 可读性

**必须检查**:
- [ ] 变量名清晰表达意图
- [ ] 函数名准确描述功能
- [ ] 代码结构清晰，逻辑分层合理
- [ ] 复杂逻辑有必要的注释

### 2.3 简洁性

**必须检查**:
- [ ] 没有重复代码
- [ ] 没有不必要的复杂性
- [ ] 没有过度抽象
- [ ] 函数长度合理（一般不超过 50 行）

### 2.4 安全性

**必须检查**:
- [ ] 没有 SQL 注入风险
- [ ] 没有 XSS 风险
- [ ] 没有命令注入风险
- [ ] 敏感数据不硬编码

---

## 三、禁止的行为

### 3.1 严禁过度工程

**禁止**:
- ❌ 添加未要求的功能
- ❌ 过度抽象和泛化
- ❌ 引入不必要的依赖
- ❌ 添加"以防万一"的代码

### 3.2 严禁破坏现有代码

**禁止**:
- ❌ 修改未要求修改的代码
- ❌ 重构未要求重构的代码
- ❌ 改变现有的 API 接口
- ❌ 删除看似"无用"但实际有用的代码

---

## 四、GLM-4.7 特别注意事项

### 4.1 常见问题

**GLM-4.7 容易出现的问题**:
1. 过度添加注释和文档字符串
2. 引入不必要的类型注解
3. 过度使用设计模式
4. 添加未要求的错误处理

### 4.2 针对性改进

**强制要求**:
- 只在逻辑不自明时添加注释
- 只在明确要求时添加类型注解
- 优先使用简单直接的实现
- 只处理实际可能发生的错误

---

## 五、使用方式

### 5.1 在调用 Coder 时引用本指南

**Claude 调用 Coder 时的 Prompt 模板**:

```
请严格遵守 ai/coder_quality_guide.md 中的质量标准。

任务：[具体任务描述]

质量要求：
- 代码必须正确、可读、简洁
- 严禁过度工程
- 遵循现有代码风格
```

### 5.2 在实施合约中引用

**在 ai/contracts/current.md 中添加**:

```markdown
## 代码质量标准

必须遵守 ai/coder_quality_guide.md 中定义的所有质量标准。
```

---

## 六、代码风格规范

### 6.1 规范体系

本质量指南定义了**质量标准和禁止行为**，具体的代码风格请参考以下规范：

**通用规范**（所有语言必读）:
- `ai/code_style_guide.md` - 命名、格式化、注释、文件组织
- `ai/design_principles.md` - 架构设计、SOLID 原则、设计模式

**语言特定规范**（根据项目技术栈选择）:
- `ai/python_guide.md` - Python 项目专用规范
- `ai/java_guide.md` - Java 项目专用规范
- `ai/frontend_guide.md` - 前端项目专用规范（JavaScript/TypeScript/React/Vue）

### 6.2 规范优先级

**执行顺序**:
1. 首先遵守本质量指南的核心原则
2. 然后应用设计原则（SOLID、DRY、KISS、YAGNI）
3. 接着应用通用代码风格规范
4. 最后应用语言特定规范

**冲突处理**:
- 质量原则 > 风格规范
- 项目现有风格 > 标准规范
- 简单性 > 一致性（当一致性导致过度复杂时）

---

## 七、总结

**核心要点**:
1. 质量优先于速度
2. 简单优于复杂
3. 遵循现有风格
4. 严禁过度工程

**规范体系**:
- 本指南：质量标准和禁止行为
- 通用规范：代码风格和格式
- 语言规范：特定语言最佳实践

**文档结束**

> 本指南专门针对 GLM-4.7 作为 Coder 的质量提升
> 如有疑问或需要补充，请随时更新

